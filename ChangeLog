# do not edit -- automatically generated by arch changelog
# arch-tag: automatic-ChangeLog--lcourtes@laas.fr--2006-libre/guile-avahi--devo--0
#

2007-05-18 15:36:49 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-7

    Summary:
      Added a `guile-poll' test.
    Revision:
      guile-avahi--devo--0--patch-7

    * tests/Makefile.am: Added `guile-poll.scm'.

    new files:
     tests/guile-poll.scm

    modified files:
     ChangeLog tests/Makefile.am


2007-05-18 15:35:27 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-6

    Summary:
      Augmented the poll API.
    Revision:
      guile-avahi--devo--0--patch-6

    * modules/avahi.scm: Updated.
    
    * src/watch.c: Include <assert.h>.
      (AvahiTimeout)[enabled]: New field.
      (watch_new): Don't assign the return value from Scheme to `stuff'.
      (watch_free): Use a single-argument callback.
      (timeout_new): Pass seconds and nanoseconds to the callback.  Check
      whether the timeout is actually enabled.
      (timeout_update): Likewise.
      (timeout_free): Use a single-argument callback.
      (mark_avahi_watch, mark_avahi_timeout): New.
      (scm_avahi_invoke_watch, scm_avahi_invoke_timeout): New.
      (apply_avahi_watch, apply_avahi_timeout): Removed.
      (scm_avahi_watch_fd, scm_avahi_watch_events, scm_avahi_watch_user_data,
      scm_avahi_set_watch_user_data_x, scm_avahi_timeout_value,
      scm_avahi_timeout_user_data, scm_avahi_set_timeout_user_data_x): New.

    modified files:
     ChangeLog modules/avahi.scm src/watch.c


2007-05-18 14:49:14 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-5

    Summary:
      Augmented the client API.
    Revision:
      guile-avahi--devo--0--patch-5

    * modules/avahi/client.scm: Updated.
    
    * src/client.c (SCM_AVAHI_SET_CLIENT_POLL, SCM_AVAHI_CLIENT_POLL): New
      macros.
      (mark_avahi_client): Mark the poll associated with CLIENT.
      (scm_avahi_make_client): Associate POLL with the newly-created client.
      (scm_avahi_client_server_version, scm_avahi_client_host_name,
      scm_avahi_client_host_fqdn, scm_avahi_client_state,
      scm_avahi_set_client_host_name_x): New.
    
    * tests/simple-poll.scm: Test the new `client-' procedures.

    modified files:
     ChangeLog modules/avahi/client.scm src/client.c
     tests/simple-poll.scm


2007-05-18 09:31:48 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-4

    Summary:
      Added a basic test framework.
    Revision:
      guile-avahi--devo--0--patch-4

    * Makefile.am (SUBDIRS): Added `tests'.
    
    * configure.ac: Removed `gl_EARLY' invocation.
      Produce `tests/Makefile'.
    
    * src/Makefile.am (noinst_HEADERS): Added "utils.h".
      (AM_CPPFLAGS): Added `-I$(srcdir)'.

    new files:
     tests/.arch-ids/=id tests/.arch-ids/Makefile.am.id
     tests/Makefile.am tests/simple-poll.scm

    modified files:
     ChangeLog Makefile.am configure.ac src/Makefile.am

    new directories:
     tests tests/.arch-ids


2007-05-17 15:50:57 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-3

    Summary:
      Client running with simple-poll.
    Revision:
      guile-avahi--devo--0--patch-3

    * src/common.c (iterate_args): New struct.
      (do_iterate, do_loop, scm_avahi_iterate_simple_poll,
      scm_avahi_run_simple_poll): New.
    
    * src/client.c (SCM_AVAHI_SET_CLIENT_CALLBACK): Take two args!
      (client_trampoline): Fixed.
      (scm_avahi_make_client): Call `SCM_AVAHI_SET_CLIENT_CALLBACK ()' before
      `avahi_client_new ()'.

    modified files:
     ChangeLog modules/avahi.scm src/client.c src/common.c


2007-05-17 14:47:07 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-2

    Summary:
      More stuff, nothing working yet.
    Revision:
      guile-avahi--devo--0--patch-2


    new files:
     src/utils.c src/utils.h

    modified files:
     ChangeLog modules/avahi.scm modules/avahi/build/enums.scm
     modules/avahi/client.scm src/Makefile.am src/client.c
     src/common.c src/make-enum-header.scm src/make-smob-header.scm
     src/watch.c src/watch.h


2007-05-17 14:45:04 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-1

    Summary:
      SMOBs: Always initialize the whole SMOB double-cell.
    Revision:
      guile-avahi--devo--0--patch-1

    * modules/avahi/build/smobs.scm (output-c->smob-converter): Use
      `SCM_NEWSMOB3 ()' so that all components of the double-cell are
      initialized.

    modified files:
     ChangeLog modules/avahi/build/smobs.scm


2007-05-17 12:42:17 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	base-0

    Summary:
      Initial import: general framework, no function wrapped.
    Revision:
      guile-avahi--devo--0--base-0


    new files:
     AUTHORS COPYING ChangeLog Makefile.am NEWS README configure.ac
     modules/Makefile.am modules/avahi.scm
     modules/avahi/build/enums.scm modules/avahi/build/smobs.scm
     modules/avahi/build/utils.scm modules/avahi/client.scm
     modules/system/documentation/README
     modules/system/documentation/c-snarf.scm
     modules/system/documentation/output.scm pre-inst-guile.in
     src/Makefile.am src/client.c src/common.c
     src/make-enum-header.scm src/make-enum-map.scm
     src/make-smob-header.scm src/make-smob-types.scm src/watch.c
     src/watch.h


