# do not edit -- automatically generated by arch changelog
# arch-tag: automatic-ChangeLog--guile-avahi@sv.gnu.org--2007/guile-avahi--devo--0.2
#

2007-07-24 17:56:25 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-8

    Summary:
      Undoed previous patch (explicit client finalization).
    Revision:
      guile-avahi--devo--0.2--patch-8

    Explicit client finalization was hazardous because (i) it creates
    invalid client SMOBs so all procedures that take a client SMOB must
    check its validity, and (ii) users could free a client that is still
    being actually used and referenced (by a browser, etc.).  Reason (ii) is
    clearly a show-stopper.

    modified files:
     ChangeLog modules/avahi/build/smobs.scm
     modules/avahi/client.scm src/client.c tests/simple-poll.scm

    new patches:
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.2--patch-8


2007-07-24 17:55:57 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-7

    Summary:
      Use an explicit finalizer for clients.
    Revision:
      guile-avahi--devo--0.2--patch-7

    * modules/avahi/build/smobs.scm (%client-smob): Use an explicit
      finalizer.  This is because `avahi_client_free ()' frees its watches,
      which in turn invokes our Scheme-level `free-watch!' procedure, which
      obviously cannot be done from within the SMOB's finalizer.
    
    * modules/avahi/client.scm: Export `free-client!' and `freed-client?'.
    
    * src/client.c (scm_avahi_make_client): Call `scm_gc_protect_object ()'.
    
    * tests/simple-poll.scm: Use `free-client!' and `freed-client?'.
    
    * modules/avahi/client/publish.scm: Fixed typo.

    modified files:
     ChangeLog modules/avahi/build/smobs.scm
     modules/avahi/client.scm modules/avahi/client/publish.scm
     src/client.c tests/simple-poll.scm

    new patches:
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.2--patch-7


2007-07-17 20:13:20 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-6

    Summary:
      Enable warnings-as-errors by default when GCC is used.
    Revision:
      guile-avahi--devo--0.2--patch-6

    * configure.ac (CFLAGS): Add `-Wall -Werror' when GCC is used.

    modified files:
     ChangeLog configure.ac

    new patches:
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.2--patch-6


2007-07-17 20:13:01 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-5

    Summary:
      Fixed code generation of explicit-free functions.
    Revision:
      guile-avahi--devo--0.2--patch-5

    * modules/avahi/build/smobs.scm (output-smob-type-definition): Produce
      an explicit-free function that always returns something.

    modified files:
     ChangeLog modules/avahi/build/smobs.scm

    new patches:
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.2--patch-5


2007-07-17 20:12:38 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-4

    Summary:
      Correctly use the `alloca' Gnulib module.
    Revision:
      guile-avahi--devo--0.2--patch-4

    * src/client.c: Include <alloca.h>.

    modified files:
     ChangeLog src/client.c

    new patches:
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.2--patch-4


2007-07-17 20:12:20 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-3

    Summary:
      Use Gnulib.
    Revision:
      guile-avahi--devo--0.2--patch-3

    * Makefile.am (ACLOCAL_AMFLAGS): New.
      (SUBDIRS): Added `lib'.
    
    * configure.ac: Invoke `gl_EARLY' and `gl_INIT'.  Produce
      `lib/Makefile'.
    
    * src/Makefile.am (libguile avahi_v_0_la_LIBADD): Added `libgnu.la'.
      (AM_CPPFLAGS): Added `lib'.

    new files:
     m4/.arch-ids/=id m4/.arch-ids/gnulib-cache.m4.id
     m4/.arch-inventory m4/gnulib-cache.m4

    modified files:
     ChangeLog Makefile.am configure.ac src/Makefile.am

    new directories:
     m4 m4/.arch-ids

    new patches:
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.2--patch-3


2007-07-17 20:11:39 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-2

    Summary:
      Implemented a custom memory allocator.
    Revision:
      guile-avahi--devo--0.2--patch-2

    * NEWS: Updated.
    
    * src/common.c (alloc_header_t): New type.
      (scm_avahi_gc_hint, scm_avahi_malloc, scm_avahi_free,
      scm_avahi_realloc, scm_avahi_calloc, scm_avahi_allocator): New.
      (scm_avahi_common_init): Invoke `avahi_set_allocator ()'.

    modified files:
     ChangeLog NEWS src/common.c

    new patches:
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-14
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--version-0
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.2--base-0
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.2--patch-1
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.2--patch-2


2007-07-17 16:22:26 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-1

    Summary:
      Bumped version number.
    Revision:
      guile-avahi--devo--0.2--patch-1


    new files:
     ChangeLog

    removed files:
     ChangeLog

    modified files:
     configure.ac


2007-07-17 16:18:57 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	base-0

    Summary:
      tag of guile-avahi@sv.gnu.org--2007/guile-avahi--devo--0.1--version-0
    Revision:
      guile-avahi--devo--0.2--base-0

    (automatically generated log message)

    new patches:
     guile-avahi@sv.gnu.org--2007/guile-avahi--devo--0.1--base-0
     guile-avahi@sv.gnu.org--2007/guile-avahi--devo--0.1--patch-1
     guile-avahi@sv.gnu.org--2007/guile-avahi--devo--0.1--patch-2
     guile-avahi@sv.gnu.org--2007/guile-avahi--devo--0.1--patch-3
     guile-avahi@sv.gnu.org--2007/guile-avahi--devo--0.1--version-0
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--base-0
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-1
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-2
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-3
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-4
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-5
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-6
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-7
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-8
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-9
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-10
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-11
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-12
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-13
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-14
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-15
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--patch-16
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0--version-0
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--base-0
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-1
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-2
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-3
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-4
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-5
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-6
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-7
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-8
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-9
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-10
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-11
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-12
     lcourtes@laas.fr--2005-mobile/guile-avahi--devo--0.1--patch-13
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--base-0
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-1
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-2
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-3
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-4
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-5
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-6
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-7
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-8
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-9
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-10
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-11
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-12
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-13
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-14
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-15
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-16
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-17
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-18
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-19
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-20
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-21
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-22
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-23
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-24
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-25
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-26
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-27
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-28
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-29
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-30
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-31
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-32
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-33
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-34
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--patch-35
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0--version-0
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--base-0
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--patch-1
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--patch-2
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--patch-3
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--patch-4
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--patch-5
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--patch-6
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--patch-7
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--patch-8
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--patch-9
     lcourtes@laas.fr--2006-libre/guile-avahi--devo--0.1--patch-10


